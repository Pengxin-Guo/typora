### C语言语法基础检测

1. `printf`函数是有返回值的，`printf`函数的返回值是它打印的字符个数，例如：

   ```c
   printf("%d", 12345);
   ```

   返回值就是5。

2. 以下程序运行的结果是

   ```c
   #define ADD (x) x+x
   
   void main() { 
       int m = 1, n = 2, k = 3；
       int sum = ADD(m + n) * k; 
       printf("sum=%d", sum); 
   } 
   ```

   C语言中的宏定义是傻瓜式替换，该题中通过宏定义替换后会变成`sum = m + n + m + n * k`,通过计算可得`sum = 10`。

3. 指针常量与常量指针：

   ```c
   const int *x;  //1
   int * const x;  //2
   int const* x;  //3
   ```

   `1`代表指针常量，意思是`x`指向的整数的值不能改变；

   `2`和`3`代表常量指针，意思是`x`的值不能改变。

4. C语言中，整型常量有三种表示形式：十进制、八进制和十六进制。

   十进制：正常表示/科学计数法：以`E`分隔，前面一个实数，后面一个整数，如`1.2E1`代表`12`；

   八进制：以数字`0`开头，如`0111`代表十进制的`73`；

   十六进制：以`0x`或`0X`开头，如`0x11`代表十进制的`17`。

5. C语言中的`main`函数名称只能为`main`，并且有且仅有一个。

6. 一个C程序的执行，先从具有 `__attribute__((constructor)) `标记的函数开始，若没有，则先从 main 函数开始，例如：

   ```c
   #include <stdio.h>
   
   __attribute__((constructor))
       void main() {
       printf("Hello World\n");
   }
   
   int main() {
       printf("Hello HaiZei\n");
       return 0;
   }
   ```

   输出结果为:

   ```
   Hello World
   Hello HaiZei
   ```

7. C语言中结构体内存占用空间分析：(规则如下)

   一.起始位置为数据成员类型所占内存的整数倍，若不足则不足部分用数据填充；

   二.结构体所占总内存为其成员变量中所占空间最大数据类型的整数倍。

   例如：

   ```c
   struct str1
   {
       char a;
       int b;
       float c;
       double d;
   };
   ```

   分析：`char`型变量占一个字节，所以它的起始地址为`0`，而`int`类型占`4`个字节，它的起始地址应该是`4`（的整数倍），那么内存地址`1`、`2`、`3`就需要被填充。同样，`float`占用`4`个字节，而结构体中`a`，`b`两个成员变量占了0`~7`内存地址，`c`的地址从`8`开始，符合规则一，占用内存地址为`8~11`。`double`类型占`8`个字节，所以`d`的起始地址就应该从`16`开始，那么`12`、`13`、`14`、`15`内存地址就需要被填充。`d`从`16`地址开始，占用`8`个字节。整个结构体占用字节数为`24`，符合规则二。内存分配如图：红色区域为填充部分。

   ![img](https://images2015.cnblogs.com/blog/1129302/201705/1129302-20170526130755685-1405381928.png)

8. C语言中的逗号表达式`，`又称为“顺序求值运算符”，整个逗号表达式的值是最后一个表达式的值。例如：

   ```c
   3 + 5, 6 + 8;
   ```

   上式的值是14。

9. C源程序中凡是首行以`#`标识的控制行都是预处理指令；

    预处理功能主要有以下三种：宏定义、文件包含和条件编译。

10. 指针变量不能进行`+`运算，而且地址之间的`-`运算计算的是相差元素的个数。

11. 以下程序输出的结果是：

    ```c
    k = 12;
    printf("k=%%d\n", k);
    ```

    `k=%d`

    注：两个`%`写在一起的时候，就输出一个正常的`%`了。

12. 宏定义与常量表达式的区别：

    ```c
    const double PI = acos(-1);
    #define PI acos(-1);
    ```

    常量表达式只会执行一次`acos(-1)`，而宏定义在程序中每次碰到`PI`都会执行一次`acos(-1)`。

13. 相同的字符串（字符字面量）存放的地址是一样的，且字符串常量不允许修改。例如：

    ```c
    char *szX = "abc";
    ```

    `"abc"`是保存在文字常量区，属于字符串常量，所以该数据不能修改，默认是只读属性，即不能通过指针`szX`的指向来修改此值。
